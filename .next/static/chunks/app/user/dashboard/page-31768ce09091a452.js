(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[503],{1469:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return n},getImageProps:function(){return i}});let a=s(8229),r=s(8883),l=s(3063),d=a._(s(1193));function i(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:d.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let n=l.Image},2525:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2657:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3717:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},3999:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var a=s(2596),r=s(9688);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},4736:(e,t,s)=>{Promise.resolve().then(s.bind(s,8327))},4964:(e,t,s)=>{"use strict";s.d(t,{Xi:()=>c,av:()=>o,j7:()=>n,tU:()=>i});var a=s(5155),r=s(2115),l=s(8192),d=s(3999);let i=l.bL,n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.B8,{ref:t,className:(0,d.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});n.displayName=l.B8.displayName;let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.l9,{ref:t,className:(0,d.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});c.displayName=l.l9.displayName;let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.UC,{ref:t,className:(0,d.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});o.displayName=l.UC.displayName},6766:(e,t,s)=>{"use strict";s.d(t,{default:()=>r.a});var a=s(1469),r=s.n(a)},7168:(e,t,s)=>{"use strict";s.d(t,{$:()=>c});var a=s(5155),r=s(2115),l=s(9708),d=s(2085),i=s(3999);let n=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:r,size:d,asChild:c=!1,...o}=e,x=c?l.DX:"button";return(0,a.jsx)(x,{className:(0,i.cn)(n({variant:r,size:d,className:s})),ref:t,...o})});c.displayName="Button"},8327:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var a=s(5155),r=s(2115),l=s(6874),d=s.n(l),i=s(6766),n=s(7168),c=s(8482),o=s(4964);let x=(0,s(9946).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var u=s(2657),h=s(3717),m=s(2525);function f(){let[e,t]=(0,r.useState)(!0),[s,l]=(0,r.useState)([]),[f,g]=(0,r.useState)({id:"",name:"",email:"",password:"",createdAt:"",updatedAt:"",profileImage:null,bio:null,website:null,role:"USER",isVerified:!1,isBlocked:!1,lastLogin:null,lastPasswordChange:null,location:null,Twitter:null,Instagram:null,Facebook:null,LinkedIn:null,GitHub:null,joinDate:null});if((0,r.useEffect)(()=>{(async()=>{let e=await fetch("/api/user/profile"),s=await e.json();e.ok&&(g(s),t(!1))})()},[]),(0,r.useEffect)(()=>{(async()=>{if(f)try{let e=await fetch("/api/blog/all-user-blog?userId=".concat(f.id)),t=await e.json();e.ok&&l(t)}catch(e){console.error("Failed to fetch posts:",e)}finally{t(!1)}})()},[f]),e)return(0,a.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-teal-600 border-solid"})});let b=async e=>{if(confirm("Are you sure you want to delete this post?"))try{(await fetch("/api/blog/delete?postId=".concat(e),{method:"DELETE"})).ok?l(s.filter(t=>t.id!==e)):console.error("Failed to delete post")}catch(e){console.error("Error deleting post:",e)}};return(0,a.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6 text-teal-800 dark:text-teal-300",children:"User Dashboard"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)(c.Zp,{className:"border-teal-100 dark:border-teal-900",children:[(0,a.jsx)(c.aR,{className:"pb-4",children:(0,a.jsx)(c.ZB,{className:"text-teal-800 dark:text-teal-300",children:"Profile"})}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsxs)("div",{className:"flex flex-col items-center text-center mb-6",children:[(0,a.jsx)("div",{className:"w-24 h-24 rounded-full overflow-hidden mb-4 border-2 border-teal-200 dark:border-teal-800",children:(0,a.jsx)(i.default,{src:"/placeholder.svg",alt:f.name||"User Avatar",width:96,height:96,className:"object-cover"})}),(0,a.jsx)("h2",{className:"text-xl font-bold",children:f.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:f.email}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Member since ",f.joinDate]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.$,{asChild:!0,variant:"outline",className:"w-full border-teal-600 text-teal-600 hover:bg-teal-50",children:(0,a.jsx)(d(),{href:"/user/edit",children:"Edit Profile"})}),(0,a.jsx)(n.$,{asChild:!0,className:"w-full bg-teal-600 hover:bg-teal-700",children:(0,a.jsxs)(d(),{href:"/user/create-blog",children:[(0,a.jsx)(x,{className:"mr-2",size:16}),"New Blog Post"]})})]})]})]})}),(0,a.jsx)("div",{className:"lg:col-span-3",children:(0,a.jsxs)(o.tU,{defaultValue:"posts",className:"w-full",children:[(0,a.jsxs)(o.j7,{className:"mb-6 bg-teal-50 dark:bg-teal-950",children:[(0,a.jsx)(o.Xi,{value:"posts",className:"data-[state=active]:bg-teal-600 data-[state=active]:text-white",children:"My Posts"}),(0,a.jsx)(o.Xi,{value:"stats",className:"data-[state=active]:bg-teal-600 data-[state=active]:text-white",children:"Stats"}),(0,a.jsx)(o.Xi,{value:"saved",className:"data-[state=active]:bg-teal-600 data-[state=active]:text-white",children:"Saved"})]}),(0,a.jsx)(o.av,{value:"posts",children:(0,a.jsxs)(c.Zp,{className:"border-teal-100 dark:border-teal-900",children:[(0,a.jsxs)(c.aR,{children:[(0,a.jsx)(c.ZB,{className:"text-teal-800 dark:text-teal-300",children:"My Blog Posts"}),(0,a.jsx)(c.BT,{children:"Manage your published and draft posts"})]}),(0,a.jsx)(c.Wu,{children:s.length>0?(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-teal-100 dark:border-teal-900",children:[(0,a.jsx)("th",{className:"text-left py-3 px-2",children:"Title"}),(0,a.jsx)("th",{className:"text-left py-3 px-2",children:"Status"}),(0,a.jsx)("th",{className:"text-left py-3 px-2",children:"Date"}),(0,a.jsx)("th",{className:"text-left py-3 px-2",children:"Views"}),(0,a.jsx)("th",{className:"text-right py-3 px-2",children:"Actions"})]})}),(0,a.jsxs)("tbody",{children:[!e&&s.map(e=>(0,a.jsxs)("tr",{className:"border-b border-teal-100 dark:border-teal-900",children:[(0,a.jsx)("td",{className:"py-3 px-2",children:e.title}),(0,a.jsx)("td",{className:"py-3 px-2",children:(0,a.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs ".concat(e.published?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200"),children:e.published?"Published":"Pending Approval"})}),(0,a.jsx)("td",{className:"py-3 px-2",children:e.createdAt.split("T")[0]}),(0,a.jsx)("td",{className:"py-3 px-2",children:e.views}),(0,a.jsx)("td",{className:"py-3 px-2 text-right",children:(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(n.$,{variant:"ghost",size:"icon",asChild:!0,children:(0,a.jsx)(d(),{href:"/blog/".concat(e.id),children:(0,a.jsx)(u.A,{size:16})})}),(0,a.jsx)(n.$,{variant:"ghost",size:"icon",asChild:!0,children:(0,a.jsx)(d(),{href:"/user/edit-blog/".concat(e.id),children:(0,a.jsx)(h.A,{size:16})})}),(0,a.jsx)(n.$,{variant:"ghost",size:"icon",onClick:()=>{b(e.id)},className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:(0,a.jsx)(m.A,{size:16})})]})})]},e.id)),e&&(0,a.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-teal-600 border-solid"})})]})]})}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"You haven't created any posts yet"}),(0,a.jsx)(n.$,{asChild:!0,className:"bg-teal-600 hover:bg-teal-700",children:(0,a.jsx)(d(),{href:"/user/create-blog",children:"Create Your First Post"})})]})})]})}),(0,a.jsx)(o.av,{value:"stats",children:(0,a.jsxs)(c.Zp,{className:"border-teal-100 dark:border-teal-900",children:[(0,a.jsxs)(c.aR,{children:[(0,a.jsx)(c.ZB,{className:"text-teal-800 dark:text-teal-300",children:"Your Stats"}),(0,a.jsx)(c.BT,{children:"View your blog performance"})]}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,a.jsxs)("div",{className:"bg-teal-50 dark:bg-teal-900 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Posts"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-teal-800 dark:text-teal-300"})]}),(0,a.jsxs)("div",{className:"bg-teal-50 dark:bg-teal-900 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Views"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-teal-800 dark:text-teal-300"})]}),(0,a.jsxs)("div",{className:"bg-teal-50 dark:bg-teal-900 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Avg. Views"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-teal-800 dark:text-teal-300"})]})]}),(0,a.jsx)("p",{className:"text-center text-muted-foreground",children:"More detailed analytics coming soon!"})]})]})}),(0,a.jsx)(o.av,{value:"saved",children:(0,a.jsxs)(c.Zp,{className:"border-teal-100 dark:border-teal-900",children:[(0,a.jsxs)(c.aR,{children:[(0,a.jsx)(c.ZB,{className:"text-teal-800 dark:text-teal-300",children:"Saved Posts"}),(0,a.jsx)(c.BT,{children:"Posts you've bookmarked for later"})]}),(0,a.jsx)(c.Wu,{children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"You haven't saved any posts yet"}),(0,a.jsx)(n.$,{asChild:!0,className:"bg-teal-600 hover:bg-teal-700",children:(0,a.jsx)(d(),{href:"/blogs",children:"Browse Blogs"})})]})})]})})]})})]})]})}},8482:(e,t,s)=>{"use strict";s.d(t,{BT:()=>c,Wu:()=>o,ZB:()=>n,Zp:()=>d,aR:()=>i,wL:()=>x});var a=s(5155),r=s(2115),l=s(3999);let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});d.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...r})});i.displayName="CardHeader";let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});n.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...r})});o.displayName="CardContent";let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...r})});x.displayName="CardFooter"}},e=>{var t=t=>e(e.s=t);e.O(0,[848,411,63,519,441,684,358],()=>t(4736)),_N_E=e.O()}]);